"use strict";!function(e){location.origin||(location.origin=location.protocol+"//"+location.host);var r={init:function(){var a,t=500;e('.tablenav-pages a, .manage-column.sortable a, .manage-column.sorted a, .search-box input[type="submit"]').on("click",function(a){if(a.preventDefault(),"undefined"!=typeof this.search)var t=this.search.substring(1);else var t="";var n={paged:r._query(t,"paged")||e('input[name="paged"]').val(),order:r._query(t,"order")||e('input[name="order"]').val(),orderby:r._query(t,"orderby")||e('input[name="orderby"]').val(),s:r._query(t,"s")||e('.search-box input[name="s"]').val()};e('input[name="paged"]').val(n.paged),e('input[name="order"]').val(n.order),e('input[name="orderby"]').val(n.orderby);var o=document.location.search;o=r._update_url(o,"paged",n.paged),o=r._update_url(o,"order",n.order),o=r._update_url(o,"orderby",n.orderby),o=r._update_url(o,"s",n.s),history.replaceState(void 0,void 0,o),r.update(n)}),e("input[name=paged]").on("keyup",function(n){13==n.which&&n.preventDefault();var o={paged:parseInt(e('input[name="paged"]').val())||"1",order:e('input[name="order"]').val()||"asc",orderby:e('input[name="orderby"]').val()||"title",s:e('.search-box input[name="s"]').val()||""};window.clearTimeout(a),a=window.setTimeout(function(){r.update(o)},t)}),e(".flush-transients").on("click",function(e){e.preventDefault(),r.refresh()})},update:function(a){a._ajax_nonce=e("#_pyis_mepr_ltv_nonce").val(),a.action="pyis_mepr_ltv_list",e.ajax({type:"POST",url:location.origin+ajaxurl,data:a,success:function(a){var a=e.parseJSON(a);a.rows.length&&e("#the-list").html(a.rows),a.column_headers.length&&e("thead tr, tfoot tr").html(a.column_headers),a.pagination.bottom.length&&e(".tablenav.top .tablenav-pages").html(e(a.pagination.top).html()),a.pagination.top.length&&e(".tablenav.bottom .tablenav-pages").html(e(a.pagination.bottom).html()),r.init()},error:function(e,r,a){console.error(e.responseText),console.error(a)}})},_query:function(e,r){for(var a=e.split("&"),t=0;t<a.length;t++){var n=a[t].split("=");if(n[0]==r)return n[1]}return!1},_update_url:function(e,r,a){var t=e.indexOf("#"),n=t===-1?"":e.substr(t);e=t===-1?e:e.substr(0,t);var o=new RegExp("([?&])"+r+"=.*?(&|$)","i"),i=e.indexOf("?")!==-1?"&":"?";return e=e.match(o)&&""!==a?e.replace(o,"$1"+r+"="+a+"$2"):""==a?e.replace(o,""):e+i+r+"="+a,e+n},refresh:function(){var a={_ajax_nonce:e("#_pyis_mepr_ltv_nonce").val(),action:"pyis_mepr_ltv_flush"};if(e.ajax({type:"POST",url:location.origin+ajaxurl,data:a,success:function(a){e(".transient-expiration").html(a.data.expiration),r.init()},error:function(e,r,a){console.error(e.responseText),console.error(a)}}),"undefined"!=typeof this.search)var t=this.search.substring(1);else var t="";a.paged=r._query(t,"paged")||e('input[name="paged"]').val(),a.order=r._query(t,"order")||e('input[name="order"]').val(),a.orderby=r._query(t,"orderby")||e('input[name="orderby"]').val(),a.s=r._query(t,"s")||e('.search-box input[name="s"]').val(),r.update(a)}};r.init()}(jQuery);
//# sourceMappingURL=admin.js.map
