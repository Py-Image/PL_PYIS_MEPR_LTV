"use strict";!function(e){location.origin||(location.origin=location.protocol+"//"+location.host);var a={init:function(){var r,t=500;e(".tablenav-pages a, .manage-column.sortable a, .manage-column.sorted a").on("click",function(r){if(r.preventDefault(),"undefined"!=typeof this.search)var t=this.search.substring(1);else var t="";var n={paged:a._query(t,"paged")||e('input[name="paged"]').val(),order:a._query(t,"order")||e('input[name="order"]').val(),orderby:a._query(t,"orderby")||e('input[name="orderby"]').val(),s:a._query(t,"s")||e('.search-box input[name="s"]').val()};e(this).hasClass("first-page")&&(n.paged=1),a.update(n)}),e("#pyis-mepr-ltv-table").on("submit",function(r){r.preventDefault();var t={paged:1,order:e('input[name="order"]').val()||"asc",orderby:e('input[name="orderby"]').val()||"title",s:e('.search-box input[name="s"]').val()||""};a.update(t)}),e("input[name=paged]").on("keyup",function(n){13==n.which&&n.preventDefault();var o={paged:parseInt(e(this).val())||1,order:e('input[name="order"]').val()||"asc",orderby:e('input[name="orderby"]').val()||"title",s:e('.search-box input[name="s"]').val()||""};window.clearTimeout(r),r=window.setTimeout(function(){a.update(o)},t)}),e(".flush-transients").on("click",function(e){e.preventDefault(),a.refresh()})},update:function(r){r._ajax_nonce=e("#_pyis_mepr_ltv_nonce").val(),r.action="pyis_mepr_ltv_list",e('input[name="paged"]').val(r.paged),e('input[name="order"]').val(r.order),e('input[name="orderby"]').val(r.orderby);var t=document.location.search;t=a._update_url(t,"paged",r.paged),t=a._update_url(t,"order",r.order),t=a._update_url(t,"orderby",r.orderby),t=a._update_url(t,"s",r.s),history.replaceState(void 0,void 0,t),e.ajax({type:"POST",url:location.origin+ajaxurl,data:r,success:function(r){r=r.data,r.rows.length&&e("#the-list").html(r.rows),r.column_headers.length&&e("thead tr, tfoot tr").html(r.column_headers),r.pagination.bottom.length&&e(".tablenav.top .tablenav-pages").html(e(r.pagination.top).html()),r.pagination.top.length&&e(".tablenav.bottom .tablenav-pages").html(e(r.pagination.bottom).html()),a.init()},error:function(e,a,r){console.error(e.responseText),console.error(r)}})},_query:function(e,a){for(var r=e.split("&"),t=0;t<r.length;t++){var n=r[t].split("=");if(n[0]==a)return n[1]}return!1},_update_url:function(e,a,r){var t=e.indexOf("#"),n=t===-1?"":e.substr(t);e=t===-1?e:e.substr(0,t);var o=new RegExp("([?&])"+a+"=.*?(&|$)","i"),i=e.indexOf("?")!==-1?"&":"?";return e=e.match(o)&&""!==r?e.replace(o,"$1"+a+"="+r+"$2"):""==r?e.replace(o,""):e+i+a+"="+r,e+n},refresh:function(){var r={_ajax_nonce:e("#_pyis_mepr_ltv_nonce").val(),action:"pyis_mepr_ltv_flush"};e.ajax({type:"POST",url:location.origin+ajaxurl,data:r,success:function(a){a=a.data,e(".transient-expiration").html(a.expiration)},error:function(e,a,r){console.error(e.responseText),console.error(r)}}),r.paged=e('input[name="paged"]').val(),r.order=e('input[name="order"]').val(),r.orderby=e('input[name="orderby"]').val(),r.s=e('.search-box input[name="s"]').val(),a.update(r)}};a.init()}(jQuery);
//# sourceMappingURL=admin.js.map
