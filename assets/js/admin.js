"use strict";!function(e){location.origin||(location.origin=location.protocol+"//"+location.host);var a={init:function(){var r,t=500;e('.tablenav-pages a, .manage-column.sortable a, .manage-column.sorted a, .search-box input[type="submit"]').on("click",function(r){if(r.preventDefault(),"undefined"!=typeof this.search)var t=this.search.substring(1);else var t="";var n={paged:a._query(t,"paged")||e('input[name="paged"]').val(),order:a._query(t,"order")||e('input[name="order"]').val(),orderby:a._query(t,"orderby")||e('input[name="orderby"]').val(),s:a._query(t,"s")||e('.search-box input[name="s"]').val()};e('input[name="paged"]').val(n.paged),e('input[name="order"]').val(n.order),e('input[name="orderby"]').val(n.orderby);var o=document.location.search;o=a._update_url(o,"paged",n.paged),o=a._update_url(o,"order",n.order),o=a._update_url(o,"orderby",n.orderby),o=a._update_url(o,"s",n.s),history.replaceState(void 0,void 0,o),a.update(n)}),e("input[name=paged]").on("keyup",function(n){13==n.which&&n.preventDefault();var o={paged:parseInt(e('input[name="paged"]').val())||"1",order:e('input[name="order"]').val()||"asc",orderby:e('input[name="orderby"]').val()||"title",s:e('.search-box input[name="s"]').val()||""};window.clearTimeout(r),r=window.setTimeout(function(){a.update(o)},t)}),e(".flush-transients").on("click",function(e){e.preventDefault(),a.refresh()})},update:function(r){r._ajax_nonce=e("#_pyis_mepr_ltv_nonce").val(),r.action="pyis_mepr_ltv_list",e.ajax({type:"POST",url:location.origin+ajaxurl,data:r,success:function(r){var r=e.parseJSON(r);r.rows.length&&e("#the-list").html(r.rows),r.column_headers.length&&e("thead tr, tfoot tr").html(r.column_headers),r.pagination.bottom.length&&e(".tablenav.top .tablenav-pages").html(e(r.pagination.top).html()),r.pagination.top.length&&e(".tablenav.bottom .tablenav-pages").html(e(r.pagination.bottom).html()),a.init()},error:function(e,a,r){console.error(e.responseText),console.error(r)}})},_query:function(e,a){for(var r=e.split("&"),t=0;t<r.length;t++){var n=r[t].split("=");if(n[0]==a)return n[1]}return!1},_update_url:function(e,a,r){var t=e.indexOf("#"),n=t===-1?"":e.substr(t);e=t===-1?e:e.substr(0,t);var o=new RegExp("([?&])"+a+"=.*?(&|$)","i"),i=e.indexOf("?")!==-1?"&":"?";return e=e.match(o)&&""!==r?e.replace(o,"$1"+a+"="+r+"$2"):""==r?e.replace(o,""):e+i+a+"="+r,e+n},refresh:function(){var r={_ajax_nonce:e("#_pyis_mepr_ltv_nonce").val(),action:"pyis_mepr_ltv_flush"};e.ajax({type:"POST",url:location.origin+ajaxurl,data:r,success:function(a){e(".transient-expiration").html(a.data.expiration)},error:function(e,a,r){console.error(e.responseText),console.error(r)}}),r.paged=e('input[name="paged"]').val(),r.order=e('input[name="order"]').val(),r.orderby=e('input[name="orderby"]').val(),r.s=e('.search-box input[name="s"]').val(),a.update(r)}};a.init()}(jQuery);
//# sourceMappingURL=admin.js.map
