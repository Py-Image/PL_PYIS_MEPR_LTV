{"version":3,"sources":["admin.js","wp-list-table-ajax.js"],"names":["$","location","origin","protocol","host","pyisAjaxListTable","init","timer","delay","on","event","preventDefault","query","this","search","substring","data","paged","_query","order","orderby","console","log","update","which","parseInt","val","window","clearTimeout","setTimeout","_ajax_nonce","action","ajax","type","url","ajaxurl","success","response","parseJSON","rows","length","html","column_headers","pagination","bottom","top","error","request","status","responseText","variable","vars","split","i","pair","jQuery"],"mappings":"AAAA,cCAA,SAAYA,GAEJC,SAASC,SACdD,SAASC,OAASD,SAASE,SAAW,KAAOF,SAASG,KAExD,IAAIC,IAKHC,KAAM,WAEL,GAAIC,GACHC,EAAQ,GAGTR,GAAG,yEAA0ES,GAAI,QAAS,SAAUC,GAEnGA,EAAMC,gBAGN,IAAIC,GAAQC,KAAKC,OAAOC,UAAW,GAG/BC,GACHC,MAAOZ,EAAkBa,OAAQN,EAAO,UAAa,IACrDO,MAAOd,EAAkBa,OAAQN,EAAO,UAAa,MACrDQ,QAASf,EAAkBa,OAAQN,EAAO,YAAe,YAG1DS,SAAQC,IAAKN,GAGbX,EAAkBkB,OAAQP,KAK3BhB,EAAG,qBAAsBS,GAAI,QAAS,SAAUC,GAG3B,IAAfA,EAAMc,OACVd,EAAMC,gBAIP,IAAIK,IACHC,MAAOQ,SAAUzB,EAAE,uBAAuB0B,QAAW,IACrDP,MAAOnB,EAAE,uBAAuB0B,OAAS,MACzCN,QAASpB,EAAE,yBAAyB0B,OAAS,QAI9CC,QAAOC,aAAcrB,GACrBA,EAAQoB,OAAOE,WAAY,WAC1BxB,EAAkBkB,OAAQP,IACxBR,MAULe,OAAQ,SAAUP,GAEjBA,EAAKc,YAAc9B,EAAG,4BAA6B0B,MACnDV,EAAKe,OAAS,qBAEd/B,EAAEgC,MACDC,KAAM,OACNC,IAAKjC,SAASC,OAASiC,QACvBnB,KAAMA,EACNoB,QAAS,SAAUC,GAElBhB,QAAQC,IAAKe,EAGb,IAAIA,GAAWrC,EAAEsC,UAAWD,EAE5BhB,SAAQC,IAAKe,GAGRA,EAASE,KAAKC,QAClBxC,EAAG,aAAcyC,KAAMJ,EAASE,MAI5BF,EAASK,eAAeF,QAC5BxC,EAAG,sBAAuByC,KAAMJ,EAASK,gBAIrCL,EAASM,WAAWC,OAAOJ,QAC/BxC,EAAG,iCAAkCyC,KAAMzC,EAAGqC,EAASM,WAAWE,KAAMJ,QAGpEJ,EAASM,WAAWE,IAAIL,QAC5BxC,EAAG,oCAAqCyC,KAAMzC,EAAGqC,EAASM,WAAWC,QAASH,QAI/EpC,EAAkBC,QAGnBwC,MAAQ,SAAUC,EAASC,EAAQF,GAClCzB,QAAQyB,MAAOC,EAAQE,cACvB5B,QAAQyB,MAAOA,OAalB5B,OAAQ,SAAUN,EAAOsC,GAIxB,IAAM,GAFFC,GAAOvC,EAAMwC,MAAO,KAEdC,EAAI,EAAGA,EAAIF,EAAKX,OAAQa,IAAM,CAEvC,GAAIC,GAAOH,EAAME,GAAID,MAAO,IAE5B,IAAKE,EAAK,IAAMJ,EACf,MAAOI,GAAK,GAKd,OAAO,GAMTjD,GAAkBC,QAEdiD","file":"admin.js","sourcesContent":["'use strict';\n\n(function ($) {\n\n\tif (!location.origin) location.origin = location.protocol + '//' + location.host;\n\n\tvar pyisAjaxListTable = {\n\n\t\t/**\n   * [[Description]]\n   */\n\t\tinit: function init() {\n\n\t\t\tvar timer,\n\t\t\t    delay = 500;\n\n\t\t\t// Pagination links, sortable link\n\t\t\t$('.tablenav-pages a, .manage-column.sortable a, .manage-column.sorted a').on('click', function (event) {\n\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\t// Grab variables from the URL\n\t\t\t\tvar query = this.search.substring(1);\n\n\t\t\t\t// Get the value for each variable\n\t\t\t\tvar data = {\n\t\t\t\t\tpaged: pyisAjaxListTable._query(query, 'paged') || '1',\n\t\t\t\t\torder: pyisAjaxListTable._query(query, 'order') || 'asc',\n\t\t\t\t\torderby: pyisAjaxListTable._query(query, 'orderby') || 'last_name'\n\t\t\t\t};\n\n\t\t\t\tconsole.log(data);\n\n\t\t\t\t// Update the table\n\t\t\t\tpyisAjaxListTable.update(data);\n\t\t\t});\n\n\t\t\t// Page number input\n\t\t\t$('input[name=paged]').on('keyup', function (event) {\n\n\t\t\t\t// If user hit enter, we don't want to submit the form\n\t\t\t\tif (event.which == 13) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\n\t\t\t\t// This time we fetch the variables in inputs\n\t\t\t\tvar data = {\n\t\t\t\t\tpaged: parseInt($('input[name=\"paged\"]').val()) || '1',\n\t\t\t\t\torder: $('input[name=\"order\"]').val() || 'asc',\n\t\t\t\t\torderby: $('input[name=\"orderby\"]').val() || 'title'\n\t\t\t\t};\n\n\t\t\t\t// Wait a bit to ensure the user is done typing before actually sending data\n\t\t\t\twindow.clearTimeout(timer);\n\t\t\t\ttimer = window.setTimeout(function () {\n\t\t\t\t\tpyisAjaxListTable.update(data);\n\t\t\t\t}, delay);\n\t\t\t});\n\t\t},\n\n\t\t/**\n   * [[Description]]\n   * @param {object} data [[Description]]\n   */\n\t\tupdate: function update(data) {\n\n\t\t\tdata._ajax_nonce = $('#_ajax_custom_list_nonce').val();\n\t\t\tdata.action = 'pyis_mepr_ltv_list';\n\n\t\t\t$.ajax({\n\t\t\t\ttype: 'POST',\n\t\t\t\turl: location.origin + ajaxurl,\n\t\t\t\tdata: data,\n\t\t\t\tsuccess: function success(response) {\n\n\t\t\t\t\tconsole.log(response);\n\n\t\t\t\t\t// WP_List_Table::ajax_response() returns json\n\t\t\t\t\tvar response = $.parseJSON(response);\n\n\t\t\t\t\tconsole.log(response);\n\n\t\t\t\t\t// Add the requested rows\n\t\t\t\t\tif (response.rows.length) {\n\t\t\t\t\t\t$('#the-list').html(response.rows);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Update column headers for sorting\n\t\t\t\t\tif (response.column_headers.length) {\n\t\t\t\t\t\t$('thead tr, tfoot tr').html(response.column_headers);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Update pagination for navigation\n\t\t\t\t\tif (response.pagination.bottom.length) {\n\t\t\t\t\t\t$('.tablenav.top .tablenav-pages').html($(response.pagination.top).html());\n\t\t\t\t\t}\n\n\t\t\t\t\tif (response.pagination.top.length) {\n\t\t\t\t\t\t$('.tablenav.bottom .tablenav-pages').html($(response.pagination.bottom).html());\n\t\t\t\t\t}\n\n\t\t\t\t\t// Init back our event handlers\n\t\t\t\t\tpyisAjaxListTable.init();\n\t\t\t\t},\n\t\t\t\terror: function error(request, status, _error) {\n\t\t\t\t\tconsole.error(request.responseText);\n\t\t\t\t\tconsole.error(_error);\n\t\t\t\t}\n\n\t\t\t});\n\t\t},\n\n\t\t/**\n   * [[Description]]\n   * @param   {string}   query    [[Description]]\n   * @param   {[[Type]]} variable [[Description]]\n   * @returns {boolean}  [[Description]]\n   */\n\t\t_query: function _query(query, variable) {\n\n\t\t\tvar vars = query.split('&');\n\n\t\t\tfor (var i = 0; i < vars.length; i++) {\n\n\t\t\t\tvar pair = vars[i].split('=');\n\n\t\t\t\tif (pair[0] == variable) {\n\t\t\t\t\treturn pair[1];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\n\t};\n\n\tpyisAjaxListTable.init();\n})(jQuery);","( function( $ ) {\n\t\n\tif ( ! location.origin )\n\t\t\tlocation.origin = location.protocol + '//' + location.host;\n\n\tvar pyisAjaxListTable = {\n\t\t\n\t\t/**\n\t\t * [[Description]]\n\t\t */\n\t\tinit: function() {\n\n\t\t\tvar timer,\n\t\t\t\tdelay = 500;\n\n\t\t\t// Pagination links, sortable link\n\t\t\t$( '.tablenav-pages a, .manage-column.sortable a, .manage-column.sorted a' ).on( 'click', function( event ) {\n\t\t\t\t\n\t\t\t\tevent.preventDefault();\n\t\t\t\t\n\t\t\t\t// Grab variables from the URL\n\t\t\t\tvar query = this.search.substring( 1 );\n\n\t\t\t\t// Get the value for each variable\n\t\t\t\tvar data = {\n\t\t\t\t\tpaged: pyisAjaxListTable._query( query, 'paged' ) || '1',\n\t\t\t\t\torder: pyisAjaxListTable._query( query, 'order' ) || 'asc',\n\t\t\t\t\torderby: pyisAjaxListTable._query( query, 'orderby' ) || 'last_name'\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tconsole.log( data );\n\t\t\t\t\n\t\t\t\t// Update the table\n\t\t\t\tpyisAjaxListTable.update( data );\n\t\t\t\t\n\t\t\t} );\n\n\t\t\t// Page number input\n\t\t\t$( 'input[name=paged]' ).on( 'keyup', function( event ) {\n\n\t\t\t\t// If user hit enter, we don't want to submit the form\n\t\t\t\tif ( event.which == 13 ) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\n\t\t\t\t// This time we fetch the variables in inputs\n\t\t\t\tvar data = {\n\t\t\t\t\tpaged: parseInt( $('input[name=\"paged\"]').val() ) || '1',\n\t\t\t\t\torder: $('input[name=\"order\"]').val() || 'asc',\n\t\t\t\t\torderby: $('input[name=\"orderby\"]').val() || 'title'\n\t\t\t\t};\n\n\t\t\t\t// Wait a bit to ensure the user is done typing before actually sending data\n\t\t\t\twindow.clearTimeout( timer );\n\t\t\t\ttimer = window.setTimeout( function() {\n\t\t\t\t\tpyisAjaxListTable.update( data );\n\t\t\t\t}, delay );\n\t\t\t\t\n\t\t\t} );\n\t\t\t\n\t\t},\n\t\t\n\t\t/**\n\t\t * [[Description]]\n\t\t * @param {object} data [[Description]]\n\t\t */\n\t\tupdate: function( data ) {\n\t\t\t\n\t\t\tdata._ajax_nonce = $( '#_ajax_custom_list_nonce' ).val();\n\t\t\tdata.action = 'pyis_mepr_ltv_list';\n\t\t\t\n\t\t\t$.ajax( {\n\t\t\t\ttype: 'POST',\n\t\t\t\turl: location.origin + ajaxurl,\n\t\t\t\tdata: data,\n\t\t\t\tsuccess: function( response ) {\n\t\t\t\t\t\n\t\t\t\t\tconsole.log( response );\n\n\t\t\t\t\t// WP_List_Table::ajax_response() returns json\n\t\t\t\t\tvar response = $.parseJSON( response );\n\t\t\t\t\t\n\t\t\t\t\tconsole.log( response );\n\n\t\t\t\t\t// Add the requested rows\n\t\t\t\t\tif ( response.rows.length ) {\n\t\t\t\t\t\t$( '#the-list' ).html( response.rows );\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// Update column headers for sorting\n\t\t\t\t\tif ( response.column_headers.length ) {\n\t\t\t\t\t\t$( 'thead tr, tfoot tr' ).html( response.column_headers );\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// Update pagination for navigation\n\t\t\t\t\tif ( response.pagination.bottom.length ) {\n\t\t\t\t\t\t$( '.tablenav.top .tablenav-pages' ).html( $( response.pagination.top ).html() );\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif ( response.pagination.top.length ) {\n\t\t\t\t\t\t$( '.tablenav.bottom .tablenav-pages' ).html( $( response.pagination.bottom ).html() );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Init back our event handlers\n\t\t\t\t\tpyisAjaxListTable.init();\n\t\t\t\t\t\n\t\t\t\t},\n\t\t\t\terror : function( request, status, error ) {\n\t\t\t\t\tconsole.error( request.responseText );\n\t\t\t\t\tconsole.error( error );\n\t\t\t\t}\n\t\t\t\t\n\t\t\t} );\n\t\t\t\n\t\t},\n\t\t\n\t\t/**\n\t\t * [[Description]]\n\t\t * @param   {string}   query    [[Description]]\n\t\t * @param   {[[Type]]} variable [[Description]]\n\t\t * @returns {boolean}  [[Description]]\n\t\t */\n\t\t_query: function( query, variable ) {\n\n\t\t\tvar vars = query.split( '&' );\n\t\t\t\n\t\t\tfor ( var i = 0; i < vars.length; i++ ) {\n\t\t\t\t\n\t\t\t\tvar pair = vars[ i ].split( '=' );\n\t\t\t\t\n\t\t\t\tif ( pair[0] == variable ) {\n\t\t\t\t\treturn pair[1];\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\treturn false;\n\t\t\t\n\t\t},\n\t\t\n\t}\n\n\tpyisAjaxListTable.init();\n\n} )( jQuery );"]}